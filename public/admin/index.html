<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="robots" content="noindex" />
    <title>Embassy Admin</title>
  </head>
  <body>
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    <script>
      // Tell Decap not to fetch /admin/config.yml
      window.CMS_MANUAL_INIT = true;

      const config = {
        backend: {
          name: "github",
          repo: "ajwinter2022-prog/embassy-site",
          branch: "main",
          base_url: "https://embassytalent.io",
          auth_endpoint: "/api/auth"
        },
        media_folder: "public/uploads",
        public_folder: "/uploads",
        publish_mode: "editorial_workflow",
        collections: [
          {
            name: "site",
            label: "Site Content",
            files: [
              {
                file: "content/home.json",
                name: "home",
                label: "Homepage",
                fields: [
                  {
                    label: "Hero",
                    name: "hero",
                    widget: "object",
                    fields: [
                      { label: "Eyebrow",  name: "eyebrow",  widget: "string" },
                      { label: "Headline", name: "headline", widget: "text" },
                      { label: "CTA Label", name: "ctaLabel", widget: "string" },
                      { label: "CTA Link",  name: "ctaHref",  widget: "string", default: "#contact" }
                    ]
                  },
                  {
                    label: "Services",
                    name: "services",
                    widget: "list",
                    summary: "{{fields.title}}",
                    fields: [
                      { label: "Title",       name: "title",  widget: "string" },
                      { label: "Description", name: "desc",   widget: "text" },
                      { label: "Bullets",     name: "bullets", widget: "list",
                        field: { label: "Bullet", name: "bullet", widget: "string" } }
                    ]
                  },
                  {
                    label: "Contact",
                    name: "contact",
                    widget: "object",
                    fields: [
                      { label: "Email",    name: "email",    widget: "string" },
                      { label: "Phone",    name: "phone",    widget: "string" },
                      { label: "Locations",name: "locations",widget: "string" }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      };

      CMS.init({ config });
    </script>
  </body>
</html>
